language: python
dist: xenial
sudo: false
cache: pip3
matrix:
    include:
        - python: 3.5
          env: TOX_ENV=py35
        - python: 3.6
          env: TOX_ENV=py36
        - python: 3.7
          env: TOX_ENV=py37
install:
    # Install riscv-dv using pip to ensure dependencies are downloaded correctly.
    - pip3 install -r requirements.txt
    - pip3 install .
    - pip3 install tox
script:
    # Use Sphinx to make the html docs
    - sphinx-build -E -W -b linkcheck docs/source build
    - pip3 uninstall -y riscv-dv
